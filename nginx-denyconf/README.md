# nginx-denyconf
Данный скрипт предназначен для блокирования IP в nginx, без каких либо дополнительных действий(открыть файл, внести в него информацию etc.)<br>
Скрипт работает с nginx в котором используеться deny.conf файл для блокировки IP, и который рассположен по адресу /etc/nginx/deny.conf<br>

Для того что бы не указывать путь к скрипту, его можно расположить /usr/bin/<br>
Скрипт был написан для использования на серверах хостинга.<br>

---------------------------------

Синтаксис:<br>
denyconf $ip $type_attack $site $date<br>

Где:<br>
$ip - IP адрес который необходимо заблокировать.<br>
$type_attack - ключ который указывает какое слово будет внесено в deny.conf.<br>
Варианты ключа: <b>b</b> - brutforce - брутфорс атака. <b>d</b> - ddos - ddos атака. <b>p</b> - proxy - использование php скриптов для проксирования запросов. <b>s</b> - scan admin panel - сканированние административных панелей CMS.
$site - адрес сайта на который производиться атака.<br>
$date - дата. Данный параметр можно не указывать, и в таком случае скрипт автоматически подставит текущую дату.<br>

Пример:

denyconf 123.123.123.123 b site.com 18.08.2015 - с указанием даты.<br>
Строка в файле /etc/nginx/deny.conf будет выглядеть следующим образом:<br>
deny 123.123.123.123; #bruteforce site.com 18.08.2015<br>
<br>
denyconf 123.123.123.123 d site.com - без указания даты.<br>
Строка в файле /etc/nginx/deny.conf будет выглядеть следующим образом:<br>
deny 123.123.123.123; #ddos site.com 18.08.2015 17:00
